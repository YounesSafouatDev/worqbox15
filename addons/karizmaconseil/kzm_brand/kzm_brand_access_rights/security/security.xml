<odoo>

    <record model="ir.module.category" id="module_marque">
         <field name="name">Marque</field>
         <field name="sequence">20</field>
     </record>

    <record id="group_mes_marques_uniquement" model="res.groups">
        <field name="name">Mes marques uniquement</field>
        <field name="category_id" ref="module_marque" />
    </record>

    <record id="group_admin" model="res.groups">
        <field name="name">Administrateur</field>
        <field name="category_id" ref="module_marque" />
    </record>

    <record id="res_brand_admin_sale_order" model="ir.rule">
        <field name="name">Brand admin sale order</field>
        <field name="model_id" ref="sale.model_sale_order"/>
        <field name="groups" eval="[(4,ref('group_admin'))]"/>
        <field name="domain_force">[(1,'=',1)]</field>
    </record>

    <record id="res_brand_admin_invoice" model="ir.rule">
        <field name="name">Brand admin account</field>
        <field name="model_id" ref="account.model_account_move"/>
        <field name="groups" eval="[(4,ref('group_admin'))]"/>
        <field name="domain_force">[(1,'=',1)]</field>
    </record>

    <record id="res_brand_admin_product" model="ir.rule">
        <field name="name">Brand admin Product </field>
        <field name="model_id" ref="product.model_product_template"/>
        <field name="groups" eval="[(4,ref('group_admin'))]"/>
        <field name="domain_force">[(1,'=',1)]</field>
    </record>

    <record id="res_brand_user_product" model="ir.rule">
        <field name="name">Brand utilisateur product</field>
        <field name="model_id" ref="product.model_product_template"/>
        <field name="groups" eval="[(4,ref('group_mes_marques_uniquement'))]"/>
        <field name="perm_read" eval="True"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_unlink" eval="True"/>
        <field name="domain_force">[('product_brand_id','in',[brand_id.product_brand_id.id for brand_id in user.brand_ids])]</field>
    </record>

    <record id="sale_order_personal_rule" model="ir.rule">
        <field name="name">Personal Orders</field>
        <field name="model_id" ref="sale.model_sale_order"/>
        <field name="groups" eval="[(6,0,[ref('sales_team.group_sale_salesman')])]"/>
        <field name="domain_force">['|',('user_id','=',user.id),('user_id','=',False),('brand_id','in',user.brand_ids.ids)]</field>
    </record>

    <record id="sale_order_see_all" model="ir.rule">
        <field name="name">All Orders</field>
        <field name="model_id" ref="sale.model_sale_order"/>
        <field name="groups" eval="[(6,0,[ref('sales_team.group_sale_salesman_all_leads')])]"/>
        <field name="domain_force">[('brand_id','in',user.brand_ids.ids)]</field>
    </record>

    <record id="res_brand_product" model="ir.rule">
        <field name="name">Utilisateur product</field>
        <field name="model_id" ref="product_brand.model_product_brand"/>
        <field name="groups" eval="[(4,ref('group_mes_marques_uniquement'))]"/>
        <field name="domain_force">[('id','in',[brand_id.product_brand_id.id for brand_id in user.brand_ids])]</field>
    </record>

    <record id="res_brand_product_admin" model="ir.rule">
        <field name="name">Admin product</field>
        <field name="model_id" ref="product_brand.model_product_brand"/>
        <field name="groups" eval="[(4,ref('group_admin'))]"/>
        <field name="domain_force">[(1,'=',1)]</field>
    </record>

    <record id="res_brand" model="ir.rule">
        <field name="name">Utilisateur brand</field>
        <field name="model_id" ref="brand.model_res_brand"/>
        <field name="groups" eval="[(4,ref('group_mes_marques_uniquement'))]"/>
        <field name="domain_force">[('id','in',user.brand_ids.ids)]</field>
    </record>

    <record id="res_brand_admin" model="ir.rule">
        <field name="name">Admin brand</field>
        <field name="model_id" ref="brand.model_res_brand"/>
        <field name="groups" eval="[(4,ref('group_admin'))]"/>
        <field name="domain_force">[(1,'=',1)]</field>
    </record>

     <record id="account_invoice_rule_see_all" model="ir.rule">
        <field name="name">All Invoices</field>
        <field name="model_id" ref="account.model_account_move"/>
        <field name="domain_force">[('brand_id','in',user.brand_ids.ids)]</field>
        <field name="groups" eval="[(4, ref('sales_team.group_sale_salesman_all_leads'))]"/>
    </record>
</odoo>
